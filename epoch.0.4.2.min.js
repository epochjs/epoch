(function(n){var l,f=/[-+,> ]/;n([],l=function(d,e){function a(e){function p(){s&&(t&&s!=t)&&(t==e&&(u||(u=f.test(x)&&d.createDocumentFragment()))||t).insertBefore(s,q||null)}for(var u,m,q,t,s,l=arguments,n=l[0],z=0;z<l.length;z++){var x=l[z];if("object"==typeof x){m=!1;if(x instanceof Array){s=d.createDocumentFragment();for(var y=0;y<x.length;y++)s.appendChild(a(x[y]));x=s}if(x.nodeType)s=x,p(),t=x,q=0;else for(y in x)s[y]=x[y]}else if(m)m=!1,s.appendChild(d.createTextNode(x));else{1>z&&(e=null);
m=!0;if(n=x.replace(c,function(c,f,u,m,n,y){f&&(p(),"-"==f||"+"==f?(t=(q=s||t).parentNode,s=null,"+"==f&&(q=q.nextSibling)):("<"==f?t=s=(s||t).parentNode:(","==f?t=e:s&&(t=s),s=null),q=0),s&&(t=s));if((c=!u&&m)||!s&&(u||n))"$"==c?(c=l[++z],t.appendChild(d.createTextNode(c))):(c=c||a.defaultTag,(f=w&&l[z+1]&&l[z+1].name)&&(c="<"+c+' name="'+f+'">'),s=h&&~(k=c.indexOf("|"))?d.createElementNS(h[c.slice(0,k)],c.slice(k+1)):d.createElement(c));if(u)if("$"==m&&(m=l[++z]),"#"==u)s.id=m;else if(f=(c=s.className)&&
(" "+c+" ").replace(" "+m+" "," "),"."==u)s.className=c?(f+m).substring(1):m;else if("!"==x){var B;w?a("div",s,"<").innerHTML="":(B=s.parentNode)&&B.removeChild(s)}else f=f.substring(1,f.length-1),f!=c&&(s.className=f);n&&("$"==y&&(y=l[++z]),"style"==n?s.style.cssText=y:(u="!"==n.charAt(0)?(n=n.substring(1))&&"removeAttribute":"setAttribute",y=""===y?n:y,h&&~(k=n.indexOf("|"))?s[u+"NS"](h[n.slice(0,k)],n.slice(k+1),y):s[u](n,y)));return""}))throw new SyntaxError("Unexpected char "+n+" in "+x);p();
t=n=s||t}}e&&u&&e.appendChild(u);return n}f=e||f;var c=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,k,h=!1;d=d||document;var w="object"==typeof d.createElement;a.addNamespace=function(c,a){d.createElementNS?(h||(h={}))[c]=a:d.namespaces.add(c,a)};a.defaultTag="div";a.forDocument=l;return a})})(function(n,l,f){f=f||l;"function"===typeof define?define([],function(){return f()}):"undefined"==typeof window?require("./node-html")(module,f):put=f()});
(function(){var n,l,f,d={}.hasOwnProperty,e=function(a,c){function k(){this.constructor=a}for(var h in c)d.call(c,h)&&(a[h]=c[h]);k.prototype=c.prototype;a.prototype=new k;a.__super__=c.prototype;return a};null==window.Epoch&&(window.Epoch={});null==(f=window.Epoch).Chart&&(f.Chart={});null==(f=window.Epoch).Time&&(f.Time={});null==(f=window.Epoch).Util&&(f.Util={});null==(f=window.Epoch).Formats&&(f.Formats={});Epoch.isArray=function(a){return"array"===$.type(a)};Epoch.isObject=function(a){return"object"===
$.type(a)};Epoch.isString=function(a){return"string"===$.type(a)};Epoch.isFunction=function(a){return"function"===$.type(a)};Epoch.warn=function(a){return(console.warn||console.log)("Epoch Warning: "+a)};Epoch.exception=function(a){throw"Epoch Error: "+a;};Epoch.Util.copy=function(a){var c,k,h;if(null==a)return null;c={};for(k in a)h=a[k],c[k]=h;return c};Epoch.Util.defaults=function(a,c){var k,h;h=Epoch.Util.copy(a);for(k in c)null!=a[k]&&null!=c[k]?!Epoch.isArray(a[k])&&Epoch.isObject(a[k])&&Epoch.isObject(c[k])?
h[k]=Epoch.Util.defaults(a[k],c[k]):h[k]=a[k]:h[k]=null!=a[k]?a[k]:c[k];return h};Epoch.Util.formatSI=function(a,c,k){var h,w,d,e;null==c&&(c=1);null==k&&(k=!1);if(1E3>a){if((a|0)!==a||k)a=a.toFixed(c);return a}e="KMGTPEZY".split("");for(w in e)if(d=e[w],h=Math.pow(10,3*((w|0)+1)),a>=h&&a<Math.pow(10,3*((w|0)+2))){a/=h;if((a|0)!==a||k)a=a.toFixed(c);return""+a+" "+d}};Epoch.Util.formatBytes=function(a,c,k){var h,w,d,e;null==c&&(c=1);null==k&&(k=!1);if(1024>a)return""+a+" B";e="KB MB GB TB PB EB ZB YB".split(" ");
for(w in e)if(d=e[w],h=Math.pow(1024,(w|0)+1),a>=h&&a<Math.pow(1024,(w|0)+2)){a/=h;if((a|0)!==a||k)a=a.toFixed(c);return""+a+" "+d}};Epoch.Util.dasherize=function(a){return a.replace("\n","").replace(/\s+/,"-").toLowerCase()};Epoch.Util.domain=function(a,c){var k,h,w,d,e,f,m,q;null==c&&(c="x");w={};d=0;for(f=a.length;d<f;d++)for(k=a[d],q=k.values,e=0,m=q.length;e<m;e++)k=q[e],w[k[c]]=!0;d=[];for(h in w)d.push(h);return d};Epoch.toRGBA=function(a,c){var k,h;if(a.match(/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)/))k=
"rgba("+r+","+g+","+b+","+c+")";else if(h=d3.rgb(a))k="rgba("+h.r+","+h.g+","+h.b+","+c+")";return k};Epoch.Formats.regular=function(a){return a};Epoch.Formats.si=function(a){return Epoch.Util.formatSI(a)};Epoch.Formats.percent=function(a){return(100*a).toFixed(1)+"%"};Epoch.Formats.seconds=function(a){return l(new Date(1E3*a))};l=d3.time.format("%I:%M:%S %p");Epoch.Formats.bytes=function(a){return Epoch.Util.formatBytes(a)};Epoch.Events=function(){function a(){this._events={}}a.prototype.on=function(c,
a){var h;if(null!=a)return null==(h=this._events)[c]&&(h[c]=[]),this._events[c].push(a)};a.prototype.off=function(c,a){var h,w;if(Epoch.isObject(this._events[c])){if(null==a)return delete this._events[c];for(w=[];0<=(h=this._events[c].indexOf(a));)w.push(this._events[c].splice(h,1));return w}};a.prototype.trigger=function(c){var a,h,w,d,e,f,m,q;if(null!=this._events[c]){a=function(){var c,a,k;k=[];d=c=1;for(a=arguments.length;1<=a?c<a:c>a;d=1<=a?++c:--c)k.push(arguments[d]);return k}.apply(this,arguments);
m=this._events[c];q=[];e=0;for(f=m.length;e<f;e++)h=m[e],w=null,Epoch.isString(h)?w=this[h]:Epoch.isFunction(h)&&(w=h),null==w&&Epoch.exception("Callback for event '"+c+"' is not a function or reference to a method."),q.push(w.apply(this,a));return q}};return a}();Epoch.Chart.Base=function(a){function c(a){this.options=a;c.__super__.constructor.call(this);this.setData(this.options.data||[]);null!=this.options.el&&(this.el=$(this.options.el));this.width=this.options.width;this.height=this.options.height;
null!=this.el?(null==this.width&&(this.width=$(this.el).width()),null==this.height&&(this.height=$(this.el).height())):(null==this.width&&(this.width=k.dimensions.width),null==this.height&&(this.height=k.dimensions.height))}var k;e(c,a);k={width:320,height:240};c.prototype.isVisible=function(){return null==this.el?!1:this.el.is(":visible")};c.prototype.setData=function(c){var a,k,d,e,f;a=1;e=0;for(f=c.length;e<f;e++)d=c[e],k=["layer"],k.push("category"+a),null!=d.label&&k.push(Epoch.Util.dasherize(d.label)),
d.className=k.join(" "),a++;return this.data=c};c.prototype.update=function(c,a){null==a&&(a=!0);this.setData(c);if(a)return this.draw()};c.prototype.draw=function(){};c.prototype.extent=function(c){return[d3.min(this.data,function(a){return d3.min(a.values,c)}),d3.max(this.data,function(a){return d3.max(a.values,c)})]};return c}(Epoch.Events);Epoch.Chart.SVG=function(a){function c(a){this.options=null!=a?a:{};c.__super__.constructor.call(this,this.options);this.svg=null!=this.el?d3.select(this.el.get(0)).append("svg"):
d3.select(document.createElement("svg"));this.svg.attr({xmlns:"http://www.w3.org/2000/svg",width:this.width,height:this.height})}e(c,a);return c}(Epoch.Chart.Base);Epoch.Chart.Canvas=function(a){function c(a){this.options=null!=a?a:{};c.__super__.constructor.call(this,this.options);this.canvas=$("<canvas></canvas>");this.pixelRatio=null!=this.options.pixelRatio?this.options.pixelRatio:null!=window.devicePixelRatio?window.devicePixelRatio:1;this.canvas.css({width:""+this.width+"px",height:""+this.height+
"px"});this.canvas.attr("width",this.width*this.pixelRatio).attr("height",this.height*this.pixelRatio);null!=this.el&&this.el.append(this.canvas);this.ctx=this.canvas.get(0).getContext("2d")}e(c,a);c.prototype.getWidth=function(){return this.width*this.pixelRatio};c.prototype.getHeight=function(){return this.height*this.pixelRatio};c.prototype.clear=function(){return this.ctx.clearRect(0,0,this.getWidth(),this.getHeight())};c.prototype.getStyles=function(c){return n.getStyles(c,this.el)};return c}(Epoch.Chart.Base);
n=function(){function a(){}a.cache={};a.styleList=["fill","stroke","stroke-width"];a.container=null;a.purge=function(){return a.cache={}};a.load=function(){$("body").append('<div id="_canvas_css_reference"></div>');return a.container=$("#_canvas_css_reference","body")};a.containerId=function(c){var a,h;a=c.attr("id");null!=(h=c.attr("class"))&&(h=h.split(/\s+/).join("."));return null!=a&&null!=h?"#"+a+"."+h:null!=a?"#"+a:null!=h?"."+h:""};a.getStyles=function(c,k){var h,d,e,p,f,m,q,t;d=""+a.containerId(k)+
"__"+c;h=a.cache[d];if(null!=h)return h;h=$(k).clone().html("<svg></svg>");h.removeAttr("style");a.container.append(h);q=$("svg",h);p=c.split(/\s+/);for(f=m=put(p.shift());p.length;)e=put(p.shift()),f.appendChild(e),f=e;q.html(m);p=$(c,q);f={};t=a.styleList;m=0;for(q=t.length;m<q;m++)e=t[m],f[e]=p.css(e);a.cache[d]=f;$(h,a.container).remove();return f};return a}();$(n.load);Epoch.QueryCSS=n}).call(this);
(function(){var n={}.hasOwnProperty,l=function(f,d){function e(){this.constructor=f}for(var a in d)n.call(d,a)&&(f[a]=d[a]);e.prototype=d.prototype;f.prototype=new e;f.__super__=d.prototype;return f};Epoch.Chart.Plot=function(f){function d(a){var c,k,h,w;this.options=null!=a?a:{};a=Epoch.Util.copy(this.options.margins)||{};d.__super__.constructor.call(this,this.options=Epoch.Util.defaults(this.options,e));this.margins={};w=["top","right","bottom","left"];k=0;for(h=w.length;k<h;k++)c=w[k],this.margins[c]=
this.options.margins[c],null!=a[c]||this.hasAxis(c)||(this.margins[c]=6);this.svg=this.svg.append("g").attr("transform","translate("+this.margins.left+", "+this.margins.top+")")}var e;l(d,f);e={margins:{top:25,right:50,bottom:25,left:50},axes:["left","bottom"],ticks:{top:14,bottom:14,left:5,right:5},tickFormats:{top:Epoch.Formats.regular,bottom:Epoch.Formats.regular,left:Epoch.Formats.si,right:Epoch.Formats.si}};d.prototype.setTickFormat=function(a,c){return this.options.tickFormats[a]=c};d.prototype.hasAxis=
function(a){return-1<this.options.axes.indexOf(a)};d.prototype.innerWidth=function(){return this.width-(this.margins.left+this.margins.right)};d.prototype.innerHeight=function(){return this.height-(this.margins.top+this.margins.bottom)};d.prototype.x=function(){return d3.scale.linear().domain(this.extent(function(a){return a.x})).range([0,this.innerWidth()])};d.prototype.y=function(){return d3.scale.linear().domain(this.extent(function(a){return a.y})).range([this.innerHeight(),0])};d.prototype.bottomAxis=
function(){return d3.svg.axis().scale(this.x()).orient("bottom").ticks(this.options.ticks.bottom).tickFormat(this.options.tickFormats.bottom)};d.prototype.topAxis=function(){return d3.svg.axis().scale(this.x()).orient("top").ticks(this.options.ticks.top).tickFormat(this.options.tickFormats.top)};d.prototype.leftAxis=function(){return d3.svg.axis().scale(this.y()).orient("left").ticks(this.options.ticks.left).tickFormat(this.options.tickFormats.left)};d.prototype.rightAxis=function(){return d3.svg.axis().scale(this.y()).orient("right").ticks(this.options.ticks.right).tickFormat(this.options.tickFormats.right)};
d.prototype.draw=function(){d.__super__.draw.call(this);return this._axesDrawn?this._redrawAxes():this._drawAxes()};d.prototype._redrawAxes=function(){this.hasAxis("bottom")&&this.svg.selectAll(".x.axis.bottom").transition().duration(500).ease("linear").call(this.bottomAxis());this.hasAxis("top")&&this.svg.selectAll(".x.axis.top").transition().duration(500).ease("linear").call(this.topAxis());this.hasAxis("left")&&this.svg.selectAll(".y.axis.left").transition().duration(500).ease("linear").call(this.leftAxis());
if(this.hasAxis("right"))return this.svg.selectAll(".y.axis.right").transition().duration(500).ease("linear").call(this.rightAxis())};d.prototype._drawAxes=function(){this.hasAxis("bottom")&&this.svg.append("g").attr("class","x axis bottom").attr("transform","translate(0, "+this.innerHeight()+")").call(this.bottomAxis());this.hasAxis("top")&&this.svg.append("g").attr("class","x axis top").call(this.topAxis());this.hasAxis("left")&&this.svg.append("g").attr("class","y axis left").call(this.leftAxis());
this.hasAxis("right")&&this.svg.append("g").attr("class","y axis right").attr("transform","translate("+this.innerWidth()+", 0)").call(this.rightAxis());return this._axesDrawn=!0};return d}(Epoch.Chart.SVG)}).call(this);
(function(){var n,l={}.hasOwnProperty,f=function(d,e){function a(){this.constructor=d}for(var c in e)l.call(e,c)&&(d[c]=e[c]);a.prototype=e.prototype;d.prototype=new a;d.__super__=e.prototype;return d};Epoch.Chart.Area=function(d){function e(){return n=e.__super__.constructor.apply(this,arguments)}f(e,d);e.prototype.y=function(){var a,c,k,h,d,e,f;a=[];e=this.data;h=0;for(d=e.length;h<d;h++)for(c in k=e[h],f=k.values,f)k=f[c],null!=a[c]&&(a[c]+=k.y),null==a[c]&&(a[c]=k.y);return d3.scale.linear().domain([0,
d3.max(a)]).range([this.height-this.margins.top-this.margins.bottom,0])};e.prototype.draw=function(){var a,c,k,h;c=[this.x(),this.y()];k=c[0];h=c[1];a=d3.svg.area().x(function(c){return k(c.x)}).y0(function(c){return h(c.y0)}).y1(function(c){return h(c.y0+c.y)});d3.layout.stack().values(function(c){return c.values})(this.data);this.svg.selectAll(".layer").remove();c=this.svg.selectAll(".layer").data(this.data,function(c){return c.label});c.select(".area").attr("d",function(c){return a(c.values)});
c.enter().append("g").attr("class",function(c){return c.className});c.append("path").attr("class","area").attr("d",function(c){return a(c.values)});return e.__super__.draw.call(this)};return e}(Epoch.Chart.Plot)}).call(this);
(function(){var n={}.hasOwnProperty,l=function(f,d){function e(){this.constructor=f}for(var a in d)n.call(d,a)&&(f[a]=d[a]);e.prototype=d.prototype;f.prototype=new e;f.__super__=d.prototype;return f};Epoch.Chart.Bar=function(f){function d(a){this.options=null!=a?a:{};d.__super__.constructor.call(this,this.options=Epoch.Util.defaults(this.options,e))}var e;l(d,f);e={style:"grouped"};d.prototype.x=function(){return d3.scale.ordinal().domain(Epoch.Util.domain(this.data)).rangeRoundBands([0,this.innerWidth()],
0.1)};d.prototype.x1=function(a){var c;return d3.scale.ordinal().domain(function(){var a,h,d,e;d=this.data;e=[];a=0;for(h=d.length;a<h;a++)c=d[a],e.push(c.label);return e}.call(this)).rangeRoundBands([0,a.rangeBand()],0.08)};d.prototype.y=function(){var a;a=this.extent(function(c){return c.y});a[0]=Math.min(0,a[0]);return d3.scale.linear().domain(a).range([this.height-this.margins.top-this.margins.bottom,0])};d.prototype._remapData=function(){var a,c,k,h,d,e,f,u,m,q,t,s;d={};t=this.data;e=0;for(u=
t.length;e<u;e++)for(h=t[e],a="bar "+h.className.replace(/\s*layer\s*/,""),s=h.values,f=0,m=s.length;f<m;f++)c=s[f],null==d[q=c.x]&&(d[q]=[]),d[c.x].push({label:h.label,y:c.y,className:a});c=[];for(k in d)a=d[k],c.push({group:k,values:a});return c};d.prototype.draw=function(){var a,c,k,h,e,f;a=[this.x(),this.y()];h=a[0];f=a[1];e=this.x1(h);c=this.height-this.margins.top-this.margins.bottom;a=this._remapData();a=this.svg.selectAll(".layer").data(a,function(c){return c.group});a.transition().duration(750).attr("transform",
function(c){return"translate("+h(c.group)+", 0)"});a.enter().append("g").attr("class","layer").attr("transform",function(c){return"translate("+h(c.group)+", 0)"});k=a.selectAll("rect").data(function(c){return c.values});k.transition().duration(600).attr("x",function(c){return e(c.label)}).attr("y",function(c){return f(c.y)}).attr("width",e.rangeBand()).attr("height",function(a){return c-f(a.y)});k.enter().append("rect").attr("class",function(c){return c.className}).attr("x",function(c){return e(c.label)}).attr("y",
function(c){return f(c.y)}).attr("width",e.rangeBand()).attr("height",function(a){return c-f(a.y)});k.exit().transition().duration(150).style("opacity","0").remove();a.exit().transition().duration(750).style("opacity","0").remove();return d.__super__.draw.call(this)};return d}(Epoch.Chart.Plot)}).call(this);
(function(){var n,l={}.hasOwnProperty,f=function(d,e){function a(){this.constructor=d}for(var c in e)l.call(e,c)&&(d[c]=e[c]);a.prototype=e.prototype;d.prototype=new a;d.__super__=e.prototype;return d};Epoch.Chart.Line=function(d){function e(){return n=e.__super__.constructor.apply(this,arguments)}f(e,d);e.prototype.line=function(){var a,c,k;k=[this.x(),this.y()];a=k[0];c=k[1];return d3.svg.line().x(function(c){return a(c.x)}).y(function(a){return c(a.y)})};e.prototype.draw=function(){var a,c;c=[this.x(),
this.y(),this.line()][2];a=this.svg.selectAll(".layer").data(this.data,function(c){return c.label});a.select(".line").transition().duration(500).attr("d",function(a){return c(a.values)});a.enter().append("g").attr("class",function(c){return c.className}).append("path").attr("class","line").attr("d",function(a){return c(a.values)});a.exit().transition().duration(750).style("opacity","0").remove();return e.__super__.draw.call(this)};return e}(Epoch.Chart.Plot)}).call(this);
(function(){var n={}.hasOwnProperty,l=function(f,d){function e(){this.constructor=f}for(var a in d)n.call(d,a)&&(f[a]=d[a]);e.prototype=d.prototype;f.prototype=new e;f.__super__=d.prototype;return f};Epoch.Chart.Pie=function(f){function d(a){this.options=null!=a?a:{};d.__super__.constructor.call(this,this.options=Epoch.Util.defaults(this.options,e));a=Math.max(this.width,this.height)/2;this.pie=d3.layout.pie().sort(null).value(function(c){return c.value});this.arc=d3.svg.arc().outerRadius(a-this.options.margin).innerRadius(this.options.inner);
this.svg=this.svg.append("g").attr("transform","translate("+this.width/2+", "+this.height/2+")")}var e;l(d,f);e={margin:10,inner:0};d.prototype.draw=function(){var a,c=this;a=this.svg.selectAll(".arc").data(this.pie(this.data),function(c){return c.data.label});a.enter().append("g").attr("class",function(c){return"arc pie "+c.data.className});a.select("path").attr("d",this.arc);a.select("text").attr("transform",function(a){return"translate("+c.arc.centroid(a)+")"}).text(function(c){return c.data.label});
a.append("path").attr("d",this.arc).each(function(c){return this._current=c});a.append("text").attr("transform",function(a){return"translate("+c.arc.centroid(a)+")"}).attr("dy",".35em").style("text-anchor","middle").text(function(c){return c.data.label});return a.exit().remove()};return d}(Epoch.Chart.SVG)}).call(this);
(function(){var n={}.hasOwnProperty,l=function(f,d){function e(){this.constructor=f}for(var a in d)n.call(d,a)&&(f[a]=d[a]);e.prototype=d.prototype;f.prototype=new e;f.__super__=d.prototype;return f};Epoch.Chart.Scatter=function(f){function d(a){this.options=null!=a?a:{};d.__super__.constructor.call(this,this.options=Epoch.Util.defaults(this.options,e))}var e;l(d,f);e={radius:3.5,axes:["top","bottom","left","right"]};d.prototype.draw=function(){var a,c,k,h;d.__super__.draw.call(this);a=[this.x(),
this.y()];k=a[0];h=a[1];c=this.svg.selectAll(".layer").data(this.data,function(c){return c.label});c.enter().append("g").attr("class",function(c){return c.className});a=c.selectAll(".dot").data(function(c){return c.values});a.transition().duration(500).attr("cx",function(c){return k(c.x)}).attr("cy",function(c){return h(c.y)});a.enter().append("circle").attr("class","dot").attr("r",this.options.radius).attr("cx",function(c){return k(c.x)}).attr("cy",function(c){return h(c.y)});a.exit().transition().duration(750).style("opacity",
0).remove();return c.exit().transition().duration(750).style("opacity",0).remove()};return d}(Epoch.Chart.Plot)}).call(this);
(function(){var n,l={}.hasOwnProperty,f=function(d,e){function a(){this.constructor=d}for(var c in e)l.call(e,c)&&(d[c]=e[c]);a.prototype=e.prototype;d.prototype=new a;d.__super__=e.prototype;return d};Epoch.Time.Plot=function(d){function e(c){var k,h,d,f,p=this;this.options=c;c=Epoch.Util.copy(this.options.margins)||{};e.__super__.constructor.call(this,this.options=Epoch.Util.defaults(this.options,a));this._queueSize=this.options.queueSize;this._queue=[];this.margins={};f=["top","right","bottom",
"left"];h=0;for(d=f.length;h<d;h++)k=f[h],this.margins[k]=this.options.margins[k],null!=c[k]||this.hasAxis(k)||(this.margins[k]=6);this.svg=d3.select(this.el.get(0)).insert("svg",":first-child").attr("width",this.width).attr("height",this.height).style("z-index","1000");"absolute"!==this.el.css("position")&&"relative"!==this.el.css("position")&&this.el.css("position","relative");this.canvas.attr("width",this.innerWidth());this.canvas.attr("height",this.innerHeight());this.canvas.css({position:"absolute",
width:""+this.innerWidth()/this.pixelRatio+"px",height:""+this.innerHeight()/this.pixelRatio+"px",top:""+this.margins.top+"px",left:""+this.margins.left+"px","z-index":"999"});this.animation={interval:null,active:!1,delta:-(this.w()/this.options.fps),tickDelta:-(this.w()/this.pixelRatio/this.options.fps),frame:0,duration:this.options.fps};this._prepareTimeAxes();this._prepareRangeAxes();this.animationCallback=function(){return p._animate()}}var a;f(e,d);a={fps:24,historySize:120,windowSize:40,queueSize:10,
margins:{top:25,right:50,bottom:25,left:50},axes:["bottom"],ticks:{time:15,left:5,right:5},tickFormats:{top:Epoch.Formats.seconds,bottom:Epoch.Formats.seconds,left:Epoch.Formats.si,right:Epoch.Formats.si}};e.prototype.setData=function(c){var a,h,d,e,f;this.data=[];f=[];for(d in c)e=c[d],h=Epoch.Util.copy(e),a=Math.max(0,e.values.length-this.options.historySize),h.values=e.values.slice(a),a=["layer"],a.push("category"+((d|0)+1)),null!=e.label&&a.push(Epoch.Util.dasherize(e.label)),h.className=a.join(" "),
f.push(this.data.push(h));return f};e.prototype._offsetX=function(){return 0};e.prototype._prepareTimeAxes=function(){var c,a,h,d,e;this.hasAxis("bottom")&&(c=this.bottomAxis=this.svg.append("g").attr("class","x axis bottom canvas").attr("transform","translate("+(this.margins.left-1)+", "+(this.innerHeight()/this.pixelRatio+this.margins.top)+")"),c.append("path").attr("class","domain").attr("d","M0,0H"+(this.innerWidth()/this.pixelRatio+1)));this.hasAxis("top")&&(c=this.topAxis=this.svg.append("g").attr("class",
"x axis top canvas").attr("transform","translate("+(this.margins.left-1)+", "+this.margins.top+")"),c.append("path").attr("class","domain").attr("d","M0,0H"+(this.innerWidth()/this.pixelRatio+1)));d=this.options.ticks.time;this._ticks=[];this._tickTimer=d;e=this.data;a=0;for(h=e.length;a<h;a++)if(c=e[a],null!=c.values&&0<c.values.length){h=[this.options.windowSize-1,c.values.length-1];a=h[0];for(h=h[1];0<=a&&0<=h;)this._pushTick(a,c.values[h].time,!1,!0),a-=d,h-=d;break}return[]};e.prototype._prepareRangeAxes=
function(){this.hasAxis("left")&&this.svg.append("g").attr("class","y axis left").attr("transform","translate("+(this.margins.left-1)+", "+this.margins.top+")").call(this.leftAxis());if(this.hasAxis("right"))return this.svg.append("g").attr("class","y axis right").attr("transform","translate("+(this.width-this.margins.right)+", "+this.margins.top+")").call(this.rightAxis())};e.prototype.leftAxis=function(){var c,a;a=this.options.ticks.left;c=d3.svg.axis().scale(this.ySvg()).orient("left").tickFormat(this.options.tickFormats.left);
return 2===a?c.tickValues(this.extent(function(c){return c.y})):c.ticks(a)};e.prototype.rightAxis=function(){var c,a;this.extent(function(c){return c.y});a=this.options.ticks.right;c=d3.svg.axis().scale(this.ySvg()).orient("right").tickFormat(this.options.tickFormats.left);return 2===a?c.tickValues(this.extent(function(c){return c.y})):c.ticks(a)};e.prototype.hasAxis=function(c){return-1<this.options.axes.indexOf(c)};e.prototype.innerWidth=function(){return(this.width-(this.margins.left+this.margins.right))*
this.pixelRatio};e.prototype.innerHeight=function(){return(this.height-(this.margins.top+this.margins.bottom))*this.pixelRatio};e.prototype._prepareEntry=function(c){return c};e.prototype._prepareLayers=function(c){return c};e.prototype._startTransition=function(){if(!0!==this.animation.active&&0!==this._queue.length)return this.trigger("transition:start"),this._shift(),this.animation.active=!0,this.animation.interval=setInterval(this.animationCallback,1E3/this.options.fps)};e.prototype._stopTransition=
function(){var c,a,d,e;if(this.inTransition()){e=this.data;a=0;for(d=e.length;a<d;a++)c=e[a],c.values.length>this.options.windowSize+1&&c.values.shift();a=[this._ticks[0],this._ticks[this._ticks.length-1]];c=a[0];a=a[1];null!=a&&a.enter&&(a.enter=!1,a.opacity=1);null!=c&&c.exit&&this._shiftTick();this.animation.frame=0;this.trigger("transition:end");if(0<this._queue.length)return this._shift();this.animation.active=!1;return clearInterval(this.animation.interval)}};e.prototype.inTransition=function(){return this.animation.active};
e.prototype.push=function(c){var a=this;c=this._prepareLayers(c);this._queue.length>this._queueSize&&this._queue.splice(this._queueSize,this._queue.length-this._queueSize);if(this._queue.length===this._queueSize)return!1;this._queue.push(c.map(function(c){return a._prepareEntry(c)}));this.trigger("push");if(!this.inTransition())return this._startTransition()};e.prototype._shift=function(){var c,a,d,e;this.trigger("before:shift");c=this._queue.shift();e=this.data;for(a in e)d=e[a],d.values.push(c[a]);
this._updateTicks(c[0].time);this.hasAxis("left")&&this.svg.selectAll(".y.axis.left").transition().duration(500).ease("linear").call(this.leftAxis());this.hasAxis("right")&&this.svg.selectAll(".y.axis.right").transition().duration(500).ease("linear").call(this.rightAxis());return this.trigger("after:shift")};e.prototype._animate=function(){if(this.inTransition())return++this.animation.frame===this.animation.duration&&this._stopTransition(),this.draw(this.animation.frame*this.animation.delta),this._updateTimeAxes()};
e.prototype.y=function(){return d3.scale.linear().domain(this.extent(function(c){return c.y})).range([this.innerHeight(),0])};e.prototype.ySvg=function(){return d3.scale.linear().domain(this.extent(function(c){return c.y})).range([this.innerHeight()/this.pixelRatio,0])};e.prototype.w=function(){return this.innerWidth()/this.options.windowSize};e.prototype._updateTicks=function(c){if(this.hasAxis("top")||this.hasAxis("bottom"))if(++this._tickTimer%this.options.ticks.time||this._pushTick(this.options.windowSize,
c,!0),!(0<=this._ticks[0].x-this.w()/this.pixelRatio))return this._ticks[0].exit=!0};e.prototype._pushTick=function(c,a,d,e){null==d&&(d=!1);null==e&&(e=!1);if(this.hasAxis("top")||this.hasAxis("bottom"))return a={time:a,x:c*(this.w()/this.pixelRatio)+this._offsetX(),opacity:d?0:1,enter:d?!0:!1,exit:!1},this.hasAxis("bottom")&&(c=this.bottomAxis.append("g").attr("class","tick major").attr("transform","translate("+(a.x+1)+",0)").style("opacity",a.opacity),c.append("line").attr("y2",6),c.append("text").attr("text-anchor",
"middle").attr("dy",19).text(this.options.tickFormats.bottom(a.time)),a.bottomEl=$(c[0])),this.hasAxis("top")&&(c=this.topAxis.append("g").attr("class","tick major").attr("transform","translate("+(a.x+1)+",0)").style("opacity",a.opacity),c.append("line").attr("y2",-6),c.append("text").attr("text-anchor","middle").attr("dy",-10).text(this.options.tickFormats.top(a.time)),a.topEl=$(c[0])),e?this._ticks.unshift(a):this._ticks.push(a),a};e.prototype._shiftTick=function(){var c;if(0<this._ticks.length&&
(c=this._ticks.shift(),null!=c.topEl&&c.topEl.remove(),null!=c.bottomEl))return c.bottomEl.remove()};e.prototype._updateTimeAxes=function(){var c,a,d,e,f,p,u;if(this.hasAxis("top")||this.hasAxis("bottom")){c=[this.animation.tickDelta,1/this.options.fps];a=c[0];c=c[1];p=this._ticks;u=[];e=0;for(f=p.length;e<f;e++)d=p[e],d.x+=a,this.hasAxis("bottom")&&d.bottomEl.attr("transform","translate("+(d.x+1)+",0)"),this.hasAxis("top")&&d.topEl.attr("transform","translate("+(d.x+1)+",0)"),d.enter?d.opacity+=
c:d.exit&&(d.opacity-=c),d.enter||d.exit?(this.hasAxis("bottom")&&d.bottomEl.css("opacity",d.opacity),this.hasAxis("top")?u.push(d.topEl.css("opacity",d.opacity)):u.push(void 0)):u.push(void 0);return u}};e.prototype.draw=function(a){};return e}(Epoch.Chart.Canvas);Epoch.Time.Stack=function(d){function e(){return n=e.__super__.constructor.apply(this,arguments)}f(e,d);e.prototype._prepareLayers=function(a){var c,d,e,f;e=d=0;for(f=a.length;e<f;e++)c=a[e],c.y0=d,d+=c.y;return a};e.prototype.setData=
function(a){var c,d,h,f,v;e.__super__.setData.call(this,a);v=[];c=a=0;for(f=this.data[0].values.length;0<=f?a<f:a>f;c=0<=f?++a:--a)h=0,v.push(function(){var a,e,f,w;f=this.data;w=[];a=0;for(e=f.length;a<e;a++)d=f[a],d.values[c].y0=h,w.push(h+=d.values[c].y);return w}.call(this));return v};e.prototype.extent=function(){var a,c,d,e,f,v,p,u;a=f=d=0;for(p=this.data[0].values.length;0<=p?f<p:f>p;a=0<=p?++f:--f){c=v=e=0;for(u=this.data.length;0<=u?v<u:v>u;c=0<=u?++v:--v)e+=this.data[c].values[a].y;e>d&&
(d=e)}return[0,d]};return e}(Epoch.Time.Plot)}).call(this);
(function(){var n,l={}.hasOwnProperty,f=function(d,e){function a(){this.constructor=d}for(var c in e)l.call(e,c)&&(d[c]=e[c]);a.prototype=e.prototype;d.prototype=new a;d.__super__=e.prototype;return d};Epoch.Time.Area=function(d){function e(){return n=e.__super__.constructor.apply(this,arguments)}f(e,d);e.prototype.setStyles=function(a){a=null!=a.className?this.getStyles("g."+a.className.replace(/\s/g,".")+" path.area"):this.getStyles("g path.area");this.ctx.fillStyle=a.fill;null!=a.stroke&&(this.ctx.strokeStyle=
a.stroke);if(null!=a["stroke-width"])return this.ctx.lineWidth=a["stroke-width"].replace("px","")};e.prototype._drawAreas=function(a){var c,d,e,f,v,p,u,m,q,t;null==a&&(a=0);p=[this.y(),this.w()];u=p[0];p=p[1];t=[];for(d=m=q=this.data.length-1;0>=q?0>=m:0<=m;d=0>=q?++m:--m){f=this.data[d];this.setStyles(f);this.ctx.beginPath();v=[this.options.windowSize,f.values.length,this.inTransition()];d=v[0];e=v[1];for(v=v[2];-2<=--d&&0<=--e;)c=f.values[e],c=[(d+1)*p+a,u(c.y+c.y0)],v&&(c[0]+=p),d===this.options.windowSize-
1?this.ctx.moveTo.apply(this.ctx,c):this.ctx.lineTo.apply(this.ctx,c);d=v?(d+3)*p+a:(d+2)*p+a;this.ctx.lineTo(d,this.innerHeight());this.ctx.lineTo(this.width*this.pixelRatio+p+a,this.innerHeight());this.ctx.closePath();t.push(this.ctx.fill())}return t};e.prototype._drawStrokes=function(a){var c,d,e,f,v,p,u,m,q,t;null==a&&(a=0);d=[this.y(),this.w()];u=d[0];p=d[1];t=[];for(d=m=q=this.data.length-1;0>=q?0>=m:0<=m;d=0>=q?++m:--m){f=this.data[d];this.setStyles(f);this.ctx.beginPath();v=[this.options.windowSize,
f.values.length,this.inTransition()];d=v[0];e=v[1];for(v=v[2];-2<=--d&&0<=--e;)c=f.values[e],c=[(d+1)*p+a,u(c.y+c.y0)],v&&(c[0]+=p),d===this.options.windowSize-1?this.ctx.moveTo.apply(this.ctx,c):this.ctx.lineTo.apply(this.ctx,c);t.push(this.ctx.stroke())}return t};e.prototype.draw=function(a){null==a&&(a=0);if(this.isVisible())return this.clear(),this._drawAreas(a),this._drawStrokes(a)};return e}(Epoch.Time.Stack)}).call(this);
(function(){var n,l={}.hasOwnProperty,f=function(d,e){function a(){this.constructor=d}for(var c in e)l.call(e,c)&&(d[c]=e[c]);a.prototype=e.prototype;d.prototype=new a;d.__super__=e.prototype;return d};Epoch.Time.Bar=function(d){function e(){return n=e.__super__.constructor.apply(this,arguments)}f(e,d);e.prototype._offsetX=function(){return 0.5*this.w()/this.pixelRatio};e.prototype.setStyles=function(a){a=this.getStyles("rect.bar."+a.replace(/\s/g,"."));this.ctx.fillStyle=a.fill;this.ctx.strokeStyle=
null==a.stroke||"none"===a.stroke?"transparent":a.stroke;if(null!=a["stroke-width"])return this.ctx.lineWidth=a["stroke-width"].replace("px","")};e.prototype.draw=function(a){var c,d,e,f,v,p,u,m,q,t,s,n,l,z,x,y,C;null==a&&(a=0);if(this.isVisible()){this.clear();l=[this.y(),this.w()];n=l[0];s=l[1];x=this.data;C=[];l=0;for(z=x.length;l<z;l++)q=x[l],0<q.values.length&&(this.setStyles(q.className),y=[this.options.windowSize,q.values.length,this.inTransition()],p=y[0],m=y[1],u=(t=y[2])?-1:0,C.push(function(){var l,
x;for(x=[];--p>=u&&0<=--m;)d=q.values[m],l=[p*s+a,d.y,d.y0],e=l[0],f=l[1],v=l[2],t&&(e+=s),c=[e+1,n(f+v),s-2,this.innerHeight()-n(f)+0.5*this.pixelRatio],this.ctx.fillRect.apply(this.ctx,c),x.push(this.ctx.strokeRect.apply(this.ctx,c));return x}.call(this)));return C}};return e}(Epoch.Time.Stack)}).call(this);
(function(){var n={}.hasOwnProperty,l=function(f,d){function e(){this.constructor=f}for(var a in d)n.call(d,a)&&(f[a]=d[a]);e.prototype=d.prototype;f.prototype=new e;f.__super__=d.prototype;return f};Epoch.Time.Gauge=function(f){function d(a){var c=this;this.options=null!=a?a:{};d.__super__.constructor.call(this,this.options=Epoch.Util.defaults(this.options,e));this.value=this.options.value||0;"absolute"!==this.el.css("position")&&"relative"!==this.el.css("position")&&this.el.css("position","relative");
this.svg=d3.select(this.el.get(0)).insert("svg",":first-child").attr("width",this.width).attr("height",this.height).attr("class","gauge-labels");$(this.svg[0]).css({position:"absolute","z-index":"1"});this.svg.append("g").attr("transform","translate("+this.textX()+", "+this.textY()+")").append("text").attr("class","value").text(this.options.format(this.value));this.animation={interval:null,active:!1,delta:0,target:0};this._animate=function(){Math.abs(c.animation.target-c.value)<Math.abs(c.animation.delta)?
(c.value=c.animation.target,clearInterval(c.animation.interval),c.animation.active=!1):c.value+=c.animation.delta;c.svg.select("text.value").text(c.options.format(c.value));return c.draw()}}var e;l(d,f);e={domain:[0,1],ticks:10,tickSize:5,tickOffset:5,fps:34,format:Epoch.Formats.percent};d.prototype.update=function(a){this.animation.target=a;this.animation.delta=(a-this.value)/this.options.fps;if(!this.animation.active)return this.animation.interval=setInterval(this._animate,1E3/this.options.fps),
this.animation.active=!0};d.prototype.push=function(a){return this.update(a)};d.prototype.radius=function(){return this.getHeight()/1.58};d.prototype.centerX=function(){return this.getWidth()/2};d.prototype.centerY=function(){return 0.68*this.getHeight()};d.prototype.textX=function(){return this.width/2};d.prototype.textY=function(){return 0.48*this.height};d.prototype.getAngle=function(a){var c,d;d=this.options.domain;c=d[0];return(a-c)/(d[1]-c)*(Math.PI+2*Math.PI/8)-Math.PI/2-Math.PI/8};d.prototype.setStyles=
function(a){a=this.getStyles(a);this.ctx.fillStyle=a.fill;this.ctx.strokeStyle=a.stroke;if(null!=a["stroke-width"])return this.ctx.lineWidth=a["stroke-width"].replace("px","")};d.prototype.draw=function(){var a,c,d,e,f,v,p,u,m,q,l,s;if(this.isVisible()){f=[this.centerX(),this.centerY(),this.radius()];d=f[0];e=f[1];f=f[2];p=[this.options.tickOffset,this.options.tickSize];u=p[0];m=p[1];this.clear();p=d3.scale.linear().domain([0,this.options.ticks]).range([-1.125*Math.PI,Math.PI/8]);this.setStyles(".epoch .gauge .tick");
this.ctx.beginPath();a=l=0;for(s=this.options.ticks;0<=s?l<=s:l>=s;a=0<=s?++l:--l)a=p(a),a=[Math.cos(a),Math.sin(a)],c=a[0],v=a[1],a=c*(f-u)+d,q=v*(f-u)+e,c=c*(f-u-m)+d,v=v*(f-u-m)+e,this.ctx.moveTo(a,q),this.ctx.lineTo(c,v);this.ctx.stroke();this.setStyles(".epoch .gauge .arc.outer");this.ctx.beginPath();this.ctx.arc(d,e,f,-1.125*Math.PI,0.125*Math.PI,!1);this.ctx.stroke();this.setStyles(".epoch .gauge .arc.inner");this.ctx.beginPath();this.ctx.arc(d,e,f-10,-1.125*Math.PI,0.125*Math.PI,!1);this.ctx.stroke();
return this.drawNeedle()}};d.prototype.drawNeedle=function(){var a,c,d;d=[this.centerX(),this.centerY(),this.radius()];a=d[0];c=d[1];d=d[2];this.setStyles(".epoch .gauge .needle");this.ctx.beginPath();this.ctx.save();this.ctx.translate(a,c);this.ctx.rotate(this.getAngle(this.value));this.ctx.moveTo(4*this.pixelRatio,0);this.ctx.lineTo(-4*this.pixelRatio,0);this.ctx.lineTo(-1*this.pixelRatio,19-d);this.ctx.lineTo(1,19-d);this.ctx.fill();this.setStyles(".epoch .gauge .needle-base");this.ctx.beginPath();
this.ctx.arc(0,0,this.getWidth()/25,0,2*Math.PI);this.ctx.fill();return this.ctx.restore()};return d}(Epoch.Chart.Canvas)}).call(this);
(function(){var n={}.hasOwnProperty,l=function(f,d){function e(){this.constructor=f}for(var a in d)n.call(d,a)&&(f[a]=d[a]);e.prototype=d.prototype;f.prototype=new e;f.__super__=d.prototype;return f};Epoch.Time.Heatmap=function(f){function d(c){this.options=c;d.__super__.constructor.call(this,this.options=Epoch.Util.defaults(this.options,a));Epoch.isString(this.options.opacity)?(this._colorFn=e[this.options.opacity],null==this._colorFn&&Epoch.exception("Unknown coloring function provided '"+this.options.opacity+
"'")):Epoch.isFunction(this.options.opacity)?this._colorFn=this.options.opacity:Epoch.exception("Unknown type for provided coloring function.");this._setupPaintCanvas()}var e,a;l(d,f);a={buckets:10,bucketRange:[0,100],opacity:"linear",bucketPadding:2};e={root:function(a,d){return Math.pow(a/d,0.5)},linear:function(a,d){return a/d},quadratic:function(a,d){return Math.pow(a/d,2)},cubic:function(a,d){return Math.pow(a/d,3)},quartic:function(a,d){return Math.pow(a/d,4)},quintic:function(a,d){return Math.pow(a/
d,5)}};d.prototype.setData=function(a){var e,f,w,v,p=this;d.__super__.setData.call(this,a);w=this.data;v=[];e=0;for(f=w.length;e<f;e++)a=w[e],v.push(a.values=a.values.map(function(a){return p._prepareEntry(a)}));return v};d.prototype._prepareEntry=function(a){var d,e,f,v,p,l,m,q,n,s;p={time:a.time,max:0,buckets:{}};f=this.options.bucketRange;v=f[0];f=f[1];l=(f-v)/this.options.buckets;e=d=0;for(q=this.options.buckets;0<=q?d<q:d>q;e=0<=q?++d:--d)p.buckets[v+l*(e+1)]=0;n=a.histogram;for(m in n)for(a=
n[m],e=q=0,s=this.options.buckets;0<=s?q<s:q>s;e=0<=s?++q:--q)if(d=v+l*(e+1),m<d||e===this.options.buckets-1){p.buckets[d]+=a;break}v=p.buckets;for(f in v)a=v[f],p.max=Math.max(p.max,a);return p};d.prototype.y=function(){return d3.scale.linear().domain(this.options.bucketRange).range([this.innerHeight(),0])};d.prototype.ySvg=function(){return d3.scale.linear().domain(this.options.bucketRange).range([this.innerHeight()/this.pixelRatio,0])};d.prototype.h=function(){return this.innerHeight()/this.options.buckets};
d.prototype._offsetX=function(){return 0.5*this.w()/this.pixelRatio};d.prototype._setupPaintCanvas=function(){this.paintWidth=(this.options.windowSize+1)*this.w();this.paintHeight=this.height*this.pixelRatio;this.paint=$("<canvas width='"+this.paintWidth+"' height='"+this.paintHeight+"'>").get(0);this.p=this.paint.getContext("2d");this.redraw();this.on("after:shift","_paintEntry");return this.on("transition:end","_shiftPaintCanvas")};d.prototype.redraw=function(){var a,d,e;d=this.data[0].values.length;
a=this.options.windowSize;for(e=[];0<=--d&&0<=--a;)e.push(this._paintEntry(d,a));return e};d.prototype._paintEntry=function(a,d){var e,f,l,p,n,m,q,t,s,A,B,z,x,y,C;null==a&&(a=null);null==d&&(d=null);f=[this.w(),this.h()];z=f[0];q=f[1];null==a&&(a=this.data[0].values.length-1);null==d&&(d=this.options.windowSize);n=[];f={};B=0;A=this.data;l=0;for(t=A.length;l<t;l++){s=A[l];m=s.values[a];x=m.buckets;for(e in x)p=x[e],null==f[e]&&(f[e]=0),f[e]+=p;B+=m.max;p=this.getStyles("."+s.className.split(" ").join(".")+
" rect.bucket");m.color=p.fill;n.push(m)}s=d*z;this.p.clearRect(s,0,z,this.paintHeight);t=this.options.buckets;C=[];for(e in f){p=f[e];l=this._avgLab(n,e);x=A=0;for(y=n.length;x<y;x++)m=n[x],A+=m.buckets[e]/p*B;this.p.fillStyle=Epoch.toRGBA(l,this._colorFn(p,A));this.p.fillRect(s,(t-1)*q,z-this.options.bucketPadding,q-this.options.bucketPadding);C.push(t--)}return C};d.prototype._shiftPaintCanvas=function(){var a;a=this.p.getImageData(this.w(),0,this.paintWidth-this.w(),this.paintHeight);return this.p.putImageData(a,
0,0)};d.prototype._avgLab=function(a,d){var e,f,l,p,n,m,q,t;q=[0,0,0,0];n=q[0];e=q[1];f=q[2];q=q[3];m=0;for(t=a.length;m<t;m++)l=a[m],null!=l.buckets[d]&&(q+=l.buckets[d]);for(p in a)l=a[p],m=null!=l.buckets[d]?l.buckets[d]|0:0,m/=q,l=d3.lab(l.color),n+=m*l.l,e+=m*l.a,f+=m*l.b;return d3.lab(n,e,f).toString()};d.prototype.draw=function(a){null==a&&(a=0);if(this.isVisible())return this.clear(),this.ctx.drawImage(this.paint,a,0)};return d}(Epoch.Time.Plot)}).call(this);
(function(){var n,l={}.hasOwnProperty,f=function(d,e){function a(){this.constructor=d}for(var c in e)l.call(e,c)&&(d[c]=e[c]);a.prototype=e.prototype;d.prototype=new a;d.__super__=e.prototype;return d};Epoch.Time.Line=function(d){function e(){return n=e.__super__.constructor.apply(this,arguments)}f(e,d);e.prototype.setStyles=function(a){a=this.getStyles("g."+a.replace(/\s/g,".")+" path.line");this.ctx.fillStyle=a.fill;this.ctx.strokeStyle=a.stroke;return this.ctx.lineWidth=a["stroke-width"].replace("px",
"")};e.prototype.draw=function(a){var c,d,e,f,l,n,u,m,q,t,s;null==a&&(a=0);this.clear();d=[this.y(),this.w()];u=d[0];n=d[1];t=this.data;s=[];m=0;for(q=t.length;m<q;m++)if(f=t[m],0<f.values.length){this.setStyles(f.className);this.ctx.beginPath();l=[this.options.windowSize,f.values.length,this.inTransition()];d=l[0];e=l[1];for(l=l[2];-2<=--d&&0<=--e;)c=f.values[e],c=[(d+1)*n+a,u(c.y)],l&&(c[0]+=n),d===this.options.windowSize-1?this.ctx.moveTo.apply(this.ctx,c):this.ctx.lineTo.apply(this.ctx,c);s.push(this.ctx.stroke())}return s};
return e}(Epoch.Time.Plot)}).call(this);(function(){Epoch._typeMap={area:Epoch.Chart.Area,bar:Epoch.Chart.Bar,line:Epoch.Chart.Line,pie:Epoch.Chart.Pie,scatter:Epoch.Chart.Scatter,"time.area":Epoch.Time.Area,"time.bar":Epoch.Time.Bar,"time.line":Epoch.Time.Line,"time.gauge":Epoch.Time.Gauge,"time.heatmap":Epoch.Time.Heatmap}}).call(this);
(function(){jQuery.fn.epoch=function(n){var l;n.el=this;null==(l=this.data("epoch-chart"))&&(l=Epoch._typeMap[n.type],null==l&&Epoch.exception("Unknown chart type '"+n.type+"'"),this.data("epoch-chart",l=new l(n)),l.draw());return l}}).call(this);
